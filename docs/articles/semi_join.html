<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Semi Join â€¢ arrayop</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Semi Join">
<meta property="og:description" content="arrayop">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">arrayop</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/arrayop.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/semi_join.html">Semi Join</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/Paradigm4/ArrayOpR/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="semi_join_files/accessible-code-block-0.0.1/empty-anchor.js"></script><link href="semi_join_files/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="semi_join_files/pagedtable-1.1/js/pagedtable.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Semi Join</h1>
                        <h4 class="author">Paradigm4</h4>
            
            <h4 class="date">2020-09-22</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/Paradigm4/ArrayOpR/blob/master/vignettes/semi_join.Rmd"><code>vignettes/semi_join.Rmd</code></a></small>
      <div class="hidden name"><code>semi_join.Rmd</code></div>

    </div>

    
    
<div id="create-an-array" class="section level1">
<h1 class="hasAnchor">
<a href="#create-an-array" class="anchor"></a>Create an array</h1>
<p>We first create a <code>RefArray</code> with content from <code>ArrayContent</code> data frame</p>
<div class="sourceCode" id="cb1"><html><body><pre class="r"><span class="no">ArrayContent</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(
  <span class="kw">da</span><span class="kw">=</span><span class="fl">1</span>:<span class="fl">20</span>, <span class="kw">db</span><span class="kw">=</span><span class="fl">101</span>:<span class="fl">120</span>,
  <span class="kw">lower</span> <span class="kw">=</span> <span class="no">letters</span>[<span class="fl">1</span>:<span class="fl">20</span>],
  <span class="kw">upper</span> <span class="kw">=</span> <span class="no">LETTERS</span>[<span class="fl">1</span>:<span class="fl">20</span>],
  <span class="kw">f_int32</span> <span class="kw">=</span> -<span class="fl">20</span>:-<span class="fl">1</span>,
  <span class="kw">f_int64</span> <span class="kw">=</span> <span class="fl">1</span>:<span class="fl">20</span> * <span class="fl">10.0</span>,
  <span class="kw">f_bool</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="no">T</span>,<span class="fl">NA</span>,<span class="no">F</span>,<span class="fl">NA</span>,<span class="no">F</span>),
  <span class="kw">f_double</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">3.14</span>, <span class="fl">2.0</span>, <span class="fl">NA</span>, <span class="fl">0</span>, -<span class="fl">99</span>)
)

<span class="no">RefArray</span> <span class="kw">=</span> <span class="no">conn</span>$
  <span class="fu">array_from_df</span>(<span class="no">ArrayContent</span>,
  <span class="kw">template</span> <span class="kw">=</span>  <span class="st">"&lt;lower:string COMPRESSION 'zlib', upper:string, f_int32:int32, f_int64:int64, f_bool: bool, f_double: double&gt; 
      [da=0:*:0:*; db=0:*:0:*]"</span>,
  <span class="kw">force_template_schema</span> <span class="kw">=</span> <span class="no">T</span>)$ <span class="co"># Ensure RefArray has the exact schema as the template</span>
  <span class="fu">persist</span>(<span class="kw">.gc</span> <span class="kw">=</span> <span class="fl">FALSE</span>)

<span class="no">RefArray</span>$<span class="fu">to_afl</span>()
<span class="co">#&gt; [1] "R_array462379f4ebf1600791812350592441"</span>
<span class="no">RefArray</span>$<span class="fu">to_df_all</span>()</pre></body></html></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["da"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["db"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["lower"],"name":[3],"type":["chr"],"align":["left"]},{"label":["upper"],"name":[4],"type":["chr"],"align":["left"]},{"label":["f_int32"],"name":[5],"type":["int"],"align":["right"]},{"label":["f_int64"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["f_bool"],"name":[7],"type":["lgl"],"align":["right"]},{"label":["f_double"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"12","2":"112","3":"l","4":"L","5":"-9","6":"120","7":"NA","8":"2.00"},{"1":"13","2":"113","3":"m","4":"M","5":"-8","6":"130","7":"FALSE","8":"NA"},{"1":"14","2":"114","3":"n","4":"N","5":"-7","6":"140","7":"NA","8":"0.00"},{"1":"15","2":"115","3":"o","4":"O","5":"-6","6":"150","7":"FALSE","8":"-99.00"},{"1":"1","2":"101","3":"a","4":"A","5":"-20","6":"10","7":"TRUE","8":"3.14"},{"1":"2","2":"102","3":"b","4":"B","5":"-19","6":"20","7":"NA","8":"2.00"},{"1":"3","2":"103","3":"c","4":"C","5":"-18","6":"30","7":"FALSE","8":"NA"},{"1":"4","2":"104","3":"d","4":"D","5":"-17","6":"40","7":"NA","8":"0.00"},{"1":"5","2":"105","3":"e","4":"E","5":"-16","6":"50","7":"FALSE","8":"-99.00"},{"1":"6","2":"106","3":"f","4":"F","5":"-15","6":"60","7":"TRUE","8":"3.14"},{"1":"7","2":"107","3":"g","4":"G","5":"-14","6":"70","7":"NA","8":"2.00"},{"1":"8","2":"108","3":"h","4":"H","5":"-13","6":"80","7":"FALSE","8":"NA"},{"1":"9","2":"109","3":"i","4":"I","5":"-12","6":"90","7":"NA","8":"0.00"},{"1":"10","2":"110","3":"j","4":"J","5":"-11","6":"100","7":"FALSE","8":"-99.00"},{"1":"11","2":"111","3":"k","4":"K","5":"-10","6":"110","7":"TRUE","8":"3.14"},{"1":"16","2":"116","3":"p","4":"P","5":"-5","6":"160","7":"TRUE","8":"3.14"},{"1":"17","2":"117","3":"q","4":"Q","5":"-4","6":"170","7":"NA","8":"2.00"},{"1":"18","2":"118","3":"r","4":"R","5":"-3","6":"180","7":"FALSE","8":"NA"},{"1":"19","2":"119","3":"s","4":"S","5":"-2","6":"190","7":"NA","8":"0.00"},{"1":"20","2":"120","3":"t","4":"T","5":"-1","6":"200","7":"FALSE","8":"-99.00"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="overview" class="section level1">
<h1 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h1>
<p>We can get an arrayOp with the same schema as <code>RefArray</code> but filtered content. The filtering criteria can be from either an R data frame or an arrayOp instance.</p>
<p>Letâ€™s define a function to show the semi join result arrayOp afl and download the data frame.</p>
<div class="sourceCode" id="cb2"><html><body><pre class="r"><span class="no">show</span> <span class="kw">=</span> <span class="kw">function</span>(<span class="no">result_array_op</span>){
  <span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span>(<span class="no">result_array_op</span>$<span class="fu">to_afl</span>())
  <span class="no">result_array_op</span>$<span class="fu">to_df_all</span>() <span class="co"># also download dimensions</span>
}</pre></body></html></div>
</div>
<div id="filter-mode" class="section level1">
<h1 class="hasAnchor">
<a href="#filter-mode" class="anchor"></a>Filter mode</h1>
<p>When the filtering criteria is from an R data frame and its cell count is relative small to fit in a scidb build literal, we can use <code>mode = 'filter'</code>.</p>
<div id="by-one-field" class="section level2">
<h2 class="hasAnchor">
<a href="#by-one-field" class="anchor"></a>By one field</h2>
<div class="sourceCode" id="cb3"><html><body><pre class="r"><span class="no">RefArray</span>$<span class="fu">semi_join</span>(
  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">da</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">3</span>,<span class="fl">5</span>,<span class="fl">8</span>,<span class="fl">11</span>)), <span class="co"># number of cells &lt;= filter_threshold</span>
  <span class="kw">filter_threshold</span><span class="kw">=</span><span class="fl">10</span>, <span class="kw">upload_threshold</span><span class="kw">=</span><span class="fl">20</span>) <span class="kw">%&gt;%</span>
  <span class="no">show</span>
<span class="co">#&gt; [1] "filter(R_array462379f4ebf1600791812350592441,da=3 or da=5 or da=8 or da=11)"</span></pre></body></html></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["da"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["db"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["lower"],"name":[3],"type":["chr"],"align":["left"]},{"label":["upper"],"name":[4],"type":["chr"],"align":["left"]},{"label":["f_int32"],"name":[5],"type":["int"],"align":["right"]},{"label":["f_int64"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["f_bool"],"name":[7],"type":["lgl"],"align":["right"]},{"label":["f_double"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"3","2":"103","3":"c","4":"C","5":"-18","6":"30","7":"FALSE","8":"NA"},{"1":"5","2":"105","3":"e","4":"E","5":"-16","6":"50","7":"FALSE","8":"-99.00"},{"1":"8","2":"108","3":"h","4":"H","5":"-13","6":"80","7":"FALSE","8":"NA"},{"1":"11","2":"111","3":"k","4":"K","5":"-10","6":"110","7":"TRUE","8":"3.14"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb4"><html><body><pre class="r">
<span class="co"># No matched cells</span>
<span class="no">RefArray</span>$<span class="fu">semi_join</span>(
  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">da</span> <span class="kw">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(-<span class="fl">10</span>, -<span class="fl">11</span>, -<span class="fl">12</span>)),
  <span class="kw">filter_threshold</span><span class="kw">=</span><span class="fl">10</span>, <span class="kw">upload_threshold</span><span class="kw">=</span><span class="fl">20</span>) <span class="kw">%&gt;%</span>
  <span class="no">show</span>
<span class="co">#&gt; [1] "filter(R_array462379f4ebf1600791812350592441,da=-10 or da=-11 or da=-12)"</span></pre></body></html></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["da"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["db"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["lower"],"name":[3],"type":["chr"],"align":["left"]},{"label":["upper"],"name":[4],"type":["chr"],"align":["left"]},{"label":["f_int32"],"name":[5],"type":["int"],"align":["right"]},{"label":["f_int64"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["f_bool"],"name":[7],"type":["lgl"],"align":["right"]},{"label":["f_double"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="by-two-fields" class="section level2">
<h2 class="hasAnchor">
<a href="#by-two-fields" class="anchor"></a>By two fields</h2>
<div class="sourceCode" id="cb5"><html><body><pre class="r"><span class="no">RefArray</span>$<span class="fu">semi_join</span>(
  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(
    <span class="kw">f_int32</span> <span class="kw">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(-<span class="fl">20</span>, -<span class="fl">17</span>, -<span class="fl">16</span>),
    <span class="kw">lower</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"no_match"</span>, <span class="st">"d"</span>, <span class="st">"e"</span>)
  ),
  <span class="kw">filter_threshold</span> <span class="kw">=</span> <span class="fl">10</span>,
  <span class="kw">upload_threshold</span> <span class="kw">=</span> <span class="fl">20</span>
) <span class="kw">%&gt;%</span>
  <span class="no">show</span>
<span class="co">#&gt; [1] "filter(R_array462379f4ebf1600791812350592441,(f_int32=-20 and lower='no_match') or (f_int32=-17 and lower='d') or (f_int32=-16 and lower='e'))"</span></pre></body></html></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["da"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["db"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["lower"],"name":[3],"type":["chr"],"align":["left"]},{"label":["upper"],"name":[4],"type":["chr"],"align":["left"]},{"label":["f_int32"],"name":[5],"type":["int"],"align":["right"]},{"label":["f_int64"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["f_bool"],"name":[7],"type":["lgl"],"align":["right"]},{"label":["f_double"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"4","2":"104","3":"d","4":"D","5":"-17","6":"40","7":"NA","8":"0"},{"1":"5","2":"105","3":"e","4":"E","5":"-16","6":"50","7":"FALSE","8":"-99"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb6"><html><body><pre class="r">

<span class="no">RefArray</span>$<span class="fu">semi_join</span>(
  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">da</span> <span class="kw">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(-<span class="fl">1</span>, <span class="fl">4</span>, <span class="fl">5</span>),
             <span class="kw">lower</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="st">"no_match"</span>, <span class="st">"d"</span>, <span class="st">"e"</span>)),
  <span class="kw">filter_threshold</span> <span class="kw">=</span> <span class="fl">10</span>,
  <span class="kw">upload_threshold</span> <span class="kw">=</span> <span class="fl">20</span>
) <span class="kw">%&gt;%</span>
  <span class="no">show</span>
<span class="co">#&gt; [1] "filter(R_array462379f4ebf1600791812350592441,(da=-1 and lower='no_match') or (da= 4 and lower='d') or (da= 5 and lower='e'))"</span></pre></body></html></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["da"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["db"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["lower"],"name":[3],"type":["chr"],"align":["left"]},{"label":["upper"],"name":[4],"type":["chr"],"align":["left"]},{"label":["f_int32"],"name":[5],"type":["int"],"align":["right"]},{"label":["f_int64"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["f_bool"],"name":[7],"type":["lgl"],"align":["right"]},{"label":["f_double"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"4","2":"104","3":"d","4":"D","5":"-17","6":"40","7":"NA","8":"0"},{"1":"5","2":"105","3":"e","4":"E","5":"-16","6":"50","7":"FALSE","8":"-99"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb7"><html><body><pre class="r">
<span class="co"># Set lower/upper bounds to range query array dimensions</span>
<span class="no">RefArray</span>$<span class="fu">semi_join</span>(
  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">da_low</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="fl">3</span>), <span class="kw">da_hi</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">5</span>, <span class="fl">8</span>)),
  <span class="kw">lower_bound</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">'da'</span> <span class="kw">=</span> <span class="st">'da_low'</span>),
  <span class="kw">upper_bound</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">'da'</span> <span class="kw">=</span> <span class="st">'da_hi'</span>),
  <span class="kw">filter_threshold</span> <span class="kw">=</span> <span class="fl">10</span>,
  <span class="kw">upload_threshold</span> <span class="kw">=</span> <span class="fl">20</span>
) <span class="kw">%&gt;%</span>
  <span class="no">show</span>
<span class="co">#&gt; [1] "filter(R_array462379f4ebf1600791812350592441,(da&gt;=1 and da&lt;=5) or (da&gt;=3 and da&lt;=8))"</span></pre></body></html></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["da"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["db"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["lower"],"name":[3],"type":["chr"],"align":["left"]},{"label":["upper"],"name":[4],"type":["chr"],"align":["left"]},{"label":["f_int32"],"name":[5],"type":["int"],"align":["right"]},{"label":["f_int64"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["f_bool"],"name":[7],"type":["lgl"],"align":["right"]},{"label":["f_double"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"101","3":"a","4":"A","5":"-20","6":"10","7":"TRUE","8":"3.14"},{"1":"2","2":"102","3":"b","4":"B","5":"-19","6":"20","7":"NA","8":"2.00"},{"1":"3","2":"103","3":"c","4":"C","5":"-18","6":"30","7":"FALSE","8":"NA"},{"1":"4","2":"104","3":"d","4":"D","5":"-17","6":"40","7":"NA","8":"0.00"},{"1":"5","2":"105","3":"e","4":"E","5":"-16","6":"50","7":"FALSE","8":"-99.00"},{"1":"6","2":"106","3":"f","4":"F","5":"-15","6":"60","7":"TRUE","8":"3.14"},{"1":"7","2":"107","3":"g","4":"G","5":"-14","6":"70","7":"NA","8":"2.00"},{"1":"8","2":"108","3":"h","4":"H","5":"-13","6":"80","7":"FALSE","8":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb8"><html><body><pre class="r">
<span class="co"># Set lower/upper bounds to on different dimensions</span>
<span class="no">RefArray</span>$<span class="fu">semi_join</span>(
  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">da</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="fl">3</span>), <span class="kw">db</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">105</span>, <span class="fl">108</span>)),
  <span class="kw">lower_bound</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">'da'</span> <span class="kw">=</span> <span class="st">'da'</span>),
  <span class="kw">upper_bound</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="st">'db'</span> <span class="kw">=</span> <span class="st">'db'</span>),
  <span class="kw">filter_threshold</span> <span class="kw">=</span> <span class="fl">10</span>,
  <span class="kw">upload_threshold</span> <span class="kw">=</span> <span class="fl">20</span>
) <span class="kw">%&gt;%</span>
  <span class="no">show</span>
<span class="co">#&gt; [1] "filter(R_array462379f4ebf1600791812350592441,(da&gt;=1 and db&lt;=105) or (da&gt;=3 and db&lt;=108))"</span></pre></body></html></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["da"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["db"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["lower"],"name":[3],"type":["chr"],"align":["left"]},{"label":["upper"],"name":[4],"type":["chr"],"align":["left"]},{"label":["f_int32"],"name":[5],"type":["int"],"align":["right"]},{"label":["f_int64"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["f_bool"],"name":[7],"type":["lgl"],"align":["right"]},{"label":["f_double"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"101","3":"a","4":"A","5":"-20","6":"10","7":"TRUE","8":"3.14"},{"1":"2","2":"102","3":"b","4":"B","5":"-19","6":"20","7":"NA","8":"2.00"},{"1":"3","2":"103","3":"c","4":"C","5":"-18","6":"30","7":"FALSE","8":"NA"},{"1":"4","2":"104","3":"d","4":"D","5":"-17","6":"40","7":"NA","8":"0.00"},{"1":"5","2":"105","3":"e","4":"E","5":"-16","6":"50","7":"FALSE","8":"-99.00"},{"1":"6","2":"106","3":"f","4":"F","5":"-15","6":"60","7":"TRUE","8":"3.14"},{"1":"7","2":"107","3":"g","4":"G","5":"-14","6":"70","7":"NA","8":"2.00"},{"1":"8","2":"108","3":"h","4":"H","5":"-13","6":"80","7":"FALSE","8":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
<div id="cross_between-mode" class="section level1">
<h1 class="hasAnchor">
<a href="#cross_between-mode" class="anchor"></a>cross_between mode</h1>
<p>When the query data frame has cell count greater than <code>filter_threshold</code>, but smaller than <code>upload_threshold</code>, the data frame is converted to a build literal. Or if its greater than <code>upload_threshold</code>, the data frame is uploaded as a persistent scidb array first.</p>
<p>In both case, if the arrayOp from the query data frame has more than one attribute, a <code>cross_between</code> mode is automatically chosen.</p>
<div class="sourceCode" id="cb9"><html><body><pre class="r"><span class="no">RefArray</span>$<span class="fu">semi_join</span>(
  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">da</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>:<span class="fl">5</span>, -<span class="fl">1</span>), <span class="kw">db</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">101</span>:<span class="fl">105</span>, -<span class="fl">1</span>)),
  <span class="kw">filter_threshold</span> <span class="kw">=</span> <span class="fl">10</span>,
  <span class="kw">upload_threshold</span> <span class="kw">=</span> <span class="fl">20</span>
) <span class="kw">%&gt;%</span>
  <span class="no">show</span>
<span class="co">#&gt; [1] "cross_between(R_array462379f4ebf1600791812350592441,project(apply(build(&lt;da:int64,db:int64&gt;[aXkL_], '[(1,101),(2,102),(3,103),(4,104),(5,105),(-1,-1)]', true),_da_low,int64(da),_da_high,int64(da),_db_low,int64(db),_db_high,int64(db)),_da_low,_db_low,_da_high,_db_high))"</span></pre></body></html></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["da"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["db"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["lower"],"name":[3],"type":["chr"],"align":["left"]},{"label":["upper"],"name":[4],"type":["chr"],"align":["left"]},{"label":["f_int32"],"name":[5],"type":["int"],"align":["right"]},{"label":["f_int64"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["f_bool"],"name":[7],"type":["lgl"],"align":["right"]},{"label":["f_double"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"101","3":"a","4":"A","5":"-20","6":"10","7":"TRUE","8":"3.14"},{"1":"2","2":"102","3":"b","4":"B","5":"-19","6":"20","7":"NA","8":"2.00"},{"1":"3","2":"103","3":"c","4":"C","5":"-18","6":"30","7":"FALSE","8":"NA"},{"1":"4","2":"104","3":"d","4":"D","5":"-17","6":"40","7":"NA","8":"0.00"},{"1":"5","2":"105","3":"e","4":"E","5":"-16","6":"50","7":"FALSE","8":"-99.00"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb10"><html><body><pre class="r">
<span class="no">RefArray</span>$<span class="fu">semi_join</span>(
  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">da_low</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>,<span class="fl">3</span>), <span class="kw">da_hi</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">5</span>, <span class="fl">8</span>)),
  <span class="kw">lower_bound</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">da</span> <span class="kw">=</span> <span class="st">'da_low'</span>),
  <span class="kw">upper_bound</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">da</span> <span class="kw">=</span> <span class="st">'da_hi'</span>),
  <span class="kw">filter_threshold</span> <span class="kw">=</span> <span class="fl">10</span>,
  <span class="kw">upload_threshold</span> <span class="kw">=</span> <span class="fl">20</span>
) <span class="kw">%&gt;%</span>
  <span class="no">show</span>
<span class="co">#&gt; [1] "filter(R_array462379f4ebf1600791812350592441,(da&gt;=1 and da&lt;=5) or (da&gt;=3 and da&lt;=8))"</span></pre></body></html></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["da"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["db"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["lower"],"name":[3],"type":["chr"],"align":["left"]},{"label":["upper"],"name":[4],"type":["chr"],"align":["left"]},{"label":["f_int32"],"name":[5],"type":["int"],"align":["right"]},{"label":["f_int64"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["f_bool"],"name":[7],"type":["lgl"],"align":["right"]},{"label":["f_double"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"101","3":"a","4":"A","5":"-20","6":"10","7":"TRUE","8":"3.14"},{"1":"2","2":"102","3":"b","4":"B","5":"-19","6":"20","7":"NA","8":"2.00"},{"1":"3","2":"103","3":"c","4":"C","5":"-18","6":"30","7":"FALSE","8":"NA"},{"1":"4","2":"104","3":"d","4":"D","5":"-17","6":"40","7":"NA","8":"0.00"},{"1":"5","2":"105","3":"e","4":"E","5":"-16","6":"50","7":"FALSE","8":"-99.00"},{"1":"6","2":"106","3":"f","4":"F","5":"-15","6":"60","7":"TRUE","8":"3.14"},{"1":"7","2":"107","3":"g","4":"G","5":"-14","6":"70","7":"NA","8":"2.00"},{"1":"8","2":"108","3":"h","4":"H","5":"-13","6":"80","7":"FALSE","8":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb11"><html><body><pre class="r">
<span class="co"># The query is already an arrayOp, then the threshold is irrelevant</span>
<span class="co"># cross_between mode is chosen if the query arrayOp has more than one </span>
<span class="co"># attribute</span>
<span class="no">RefArray</span>$<span class="fu">semi_join</span>(
  <span class="no">conn</span>$<span class="fu">array_from_df</span>(
    <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">da_low</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="fl">3</span>), <span class="kw">da_hi</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">5</span>, <span class="fl">8</span>)),
    <span class="st">"&lt;da_low:int64, da_hi:int64&gt; [anything]"</span>
  ),
  <span class="kw">lower_bound</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">da</span> <span class="kw">=</span> <span class="st">'da_low'</span>),
  <span class="kw">upper_bound</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">da</span> <span class="kw">=</span> <span class="st">'da_hi'</span>),
) <span class="kw">%&gt;%</span>
  <span class="no">show</span>
<span class="co">#&gt; [1] "cross_between(R_array462379f4ebf1600791812350592441,project(apply(build(&lt;da_low:int64,da_hi:int64&gt;[pORD_], '[(1,5),(3,8)]', true),_da_low,da_low,_da_high,da_hi,_db_low,-4611686018427387902,_db_high,4611686018427387903),_da_low,_db_low,_da_high,_db_high))"</span></pre></body></html></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["da"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["db"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["lower"],"name":[3],"type":["chr"],"align":["left"]},{"label":["upper"],"name":[4],"type":["chr"],"align":["left"]},{"label":["f_int32"],"name":[5],"type":["int"],"align":["right"]},{"label":["f_int64"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["f_bool"],"name":[7],"type":["lgl"],"align":["right"]},{"label":["f_double"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"101","3":"a","4":"A","5":"-20","6":"10","7":"TRUE","8":"3.14"},{"1":"2","2":"102","3":"b","4":"B","5":"-19","6":"20","7":"NA","8":"2.00"},{"1":"3","2":"103","3":"c","4":"C","5":"-18","6":"30","7":"FALSE","8":"NA"},{"1":"4","2":"104","3":"d","4":"D","5":"-17","6":"40","7":"NA","8":"0.00"},{"1":"5","2":"105","3":"e","4":"E","5":"-16","6":"50","7":"FALSE","8":"-99.00"},{"1":"6","2":"106","3":"f","4":"F","5":"-15","6":"60","7":"TRUE","8":"3.14"},{"1":"7","2":"107","3":"g","4":"G","5":"-14","6":"70","7":"NA","8":"2.00"},{"1":"8","2":"108","3":"h","4":"H","5":"-13","6":"80","7":"FALSE","8":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb12"><html><body><pre class="r">

<span class="co"># Explicitly set `field_mapping` to an empty list if the matching fields are </span>
<span class="co"># supposed to be used as bounds instead of exact matching</span>
<span class="no">RefArray</span>$<span class="fu">semi_join</span>(
  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">da</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="fl">3</span>), <span class="kw">db</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">105</span>, <span class="fl">108</span>)),
  <span class="kw">lower_bound</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">da</span> <span class="kw">=</span> <span class="st">'da'</span>),
  <span class="kw">upper_bound</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">db</span> <span class="kw">=</span> <span class="st">'db'</span>),
  <span class="kw">field_mapping</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(),
  <span class="kw">filter_threshold</span> <span class="kw">=</span> <span class="fl">2</span>,
  <span class="kw">upload_threshold</span> <span class="kw">=</span> <span class="fl">20</span>
) <span class="kw">%&gt;%</span>
  <span class="no">show</span>
<span class="co">#&gt; [1] "cross_between(R_array462379f4ebf1600791812350592441,project(apply(build(&lt;da:int64,db:int64&gt;[XKGh_], '[(1,105),(3,108)]', true),_da_low,da,_da_high,4611686018427387903,_db_low,-4611686018427387902,_db_high,db),_da_low,_db_low,_da_high,_db_high))"</span></pre></body></html></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["da"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["db"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["lower"],"name":[3],"type":["chr"],"align":["left"]},{"label":["upper"],"name":[4],"type":["chr"],"align":["left"]},{"label":["f_int32"],"name":[5],"type":["int"],"align":["right"]},{"label":["f_int64"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["f_bool"],"name":[7],"type":["lgl"],"align":["right"]},{"label":["f_double"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"101","3":"a","4":"A","5":"-20","6":"10","7":"TRUE","8":"3.14"},{"1":"2","2":"102","3":"b","4":"B","5":"-19","6":"20","7":"NA","8":"2.00"},{"1":"3","2":"103","3":"c","4":"C","5":"-18","6":"30","7":"FALSE","8":"NA"},{"1":"4","2":"104","3":"d","4":"D","5":"-17","6":"40","7":"NA","8":"0.00"},{"1":"5","2":"105","3":"e","4":"E","5":"-16","6":"50","7":"FALSE","8":"-99.00"},{"1":"6","2":"106","3":"f","4":"F","5":"-15","6":"60","7":"TRUE","8":"3.14"},{"1":"7","2":"107","3":"g","4":"G","5":"-14","6":"70","7":"NA","8":"2.00"},{"1":"8","2":"108","3":"h","4":"H","5":"-13","6":"80","7":"FALSE","8":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb13"><html><body><pre class="r">
<span class="no">RefArray</span>$<span class="fu">semi_join</span>(
  <span class="no">conn</span>$<span class="fu">array_from_df</span>(
    <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">da</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">1</span>, <span class="fl">3</span>), <span class="kw">db</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span>(<span class="fl">105</span>, <span class="fl">108</span>)),
    <span class="kw">template</span> <span class="kw">=</span> <span class="no">RefArray</span>
  ),
  <span class="kw">lower_bound</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">da</span> <span class="kw">=</span> <span class="st">'da'</span>),
  <span class="kw">upper_bound</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>(<span class="kw">db</span> <span class="kw">=</span> <span class="st">'db'</span>),
  <span class="kw">field_mapping</span> <span class="kw">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span>()
) <span class="kw">%&gt;%</span>
  <span class="no">show</span>
<span class="co">#&gt; [1] "cross_between(R_array462379f4ebf1600791812350592441,project(apply(build(&lt;da:int64,db:int64&gt;[vMLc_], '[(1,105),(3,108)]', true),_da_low,da,_da_high,4611686018427387903,_db_low,-4611686018427387902,_db_high,db),_da_low,_db_low,_da_high,_db_high))"</span></pre></body></html></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["da"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["db"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["lower"],"name":[3],"type":["chr"],"align":["left"]},{"label":["upper"],"name":[4],"type":["chr"],"align":["left"]},{"label":["f_int32"],"name":[5],"type":["int"],"align":["right"]},{"label":["f_int64"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["f_bool"],"name":[7],"type":["lgl"],"align":["right"]},{"label":["f_double"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"101","3":"a","4":"A","5":"-20","6":"10","7":"TRUE","8":"3.14"},{"1":"2","2":"102","3":"b","4":"B","5":"-19","6":"20","7":"NA","8":"2.00"},{"1":"3","2":"103","3":"c","4":"C","5":"-18","6":"30","7":"FALSE","8":"NA"},{"1":"4","2":"104","3":"d","4":"D","5":"-17","6":"40","7":"NA","8":"0.00"},{"1":"5","2":"105","3":"e","4":"E","5":"-16","6":"50","7":"FALSE","8":"-99.00"},{"1":"6","2":"106","3":"f","4":"F","5":"-15","6":"60","7":"TRUE","8":"3.14"},{"1":"7","2":"107","3":"g","4":"G","5":"-14","6":"70","7":"NA","8":"2.00"},{"1":"8","2":"108","3":"h","4":"H","5":"-13","6":"80","7":"FALSE","8":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
<div id="index_lookup-mode" class="section level1">
<h1 class="hasAnchor">
<a href="#index_lookup-mode" class="anchor"></a>index_lookup mode</h1>
<p>If the query arrayOp has only one attribute, â€˜index_lookupâ€™ mode is automatically chosen unless otherwise provided.</p>
<div class="sourceCode" id="cb14"><html><body><pre class="r">
<span class="co"># by attribute</span>
<span class="no">RefArray</span>$<span class="fu">semi_join</span>(
  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">lower</span> <span class="kw">=</span> <span class="no">letters</span>[<span class="fl">5</span>:<span class="fl">15</span>]),
  <span class="kw">filter_threshold</span> <span class="kw">=</span> <span class="fl">5</span>,
  <span class="kw">upload_threshold</span> <span class="kw">=</span> <span class="fl">20</span>
) <span class="kw">%&gt;%</span> <span class="no">show</span>
<span class="co">#&gt; [1] "project(filter(index_lookup(R_array462379f4ebf1600791812350592441,project(apply(build(&lt;lower:string&gt;[jlLw_], '[(\\'e\\'),(\\'f\\'),(\\'g\\'),(\\'h\\'),(\\'i\\'),(\\'j\\'),(\\'k\\'),(\\'l\\'),(\\'m\\'),(\\'n\\'),(\\'o\\')]', true),alt_lower_,lower),alt_lower_),lower,index_lower),index_lower is not null),lower,upper,f_int32,f_int64,f_bool,f_double)"</span></pre></body></html></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["da"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["db"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["lower"],"name":[3],"type":["chr"],"align":["left"]},{"label":["upper"],"name":[4],"type":["chr"],"align":["left"]},{"label":["f_int32"],"name":[5],"type":["int"],"align":["right"]},{"label":["f_int64"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["f_bool"],"name":[7],"type":["lgl"],"align":["right"]},{"label":["f_double"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"12","2":"112","3":"l","4":"L","5":"-9","6":"120","7":"NA","8":"2.00"},{"1":"13","2":"113","3":"m","4":"M","5":"-8","6":"130","7":"FALSE","8":"NA"},{"1":"14","2":"114","3":"n","4":"N","5":"-7","6":"140","7":"NA","8":"0.00"},{"1":"15","2":"115","3":"o","4":"O","5":"-6","6":"150","7":"FALSE","8":"-99.00"},{"1":"5","2":"105","3":"e","4":"E","5":"-16","6":"50","7":"FALSE","8":"-99.00"},{"1":"6","2":"106","3":"f","4":"F","5":"-15","6":"60","7":"TRUE","8":"3.14"},{"1":"7","2":"107","3":"g","4":"G","5":"-14","6":"70","7":"NA","8":"2.00"},{"1":"8","2":"108","3":"h","4":"H","5":"-13","6":"80","7":"FALSE","8":"NA"},{"1":"9","2":"109","3":"i","4":"I","5":"-12","6":"90","7":"NA","8":"0.00"},{"1":"10","2":"110","3":"j","4":"J","5":"-11","6":"100","7":"FALSE","8":"-99.00"},{"1":"11","2":"111","3":"k","4":"K","5":"-10","6":"110","7":"TRUE","8":"3.14"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
<div class="sourceCode" id="cb15"><html><body><pre class="r">
<span class="co"># by dimension</span>
<span class="no">RefArray</span>$<span class="fu">semi_join</span>(
  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span>(<span class="kw">da</span> <span class="kw">=</span> <span class="fl">1</span>:<span class="fl">15</span>),
  <span class="kw">filter_threshold</span> <span class="kw">=</span> <span class="fl">5</span>,
  <span class="kw">upload_threshold</span> <span class="kw">=</span> <span class="fl">20</span>
) <span class="kw">%&gt;%</span> <span class="no">show</span>
<span class="co">#&gt; [1] "project(filter(index_lookup(apply(R_array462379f4ebf1600791812350592441,attr_da,da),project(apply(build(&lt;da:int64&gt;[dJXY_], '[(1),(2),(3),(4),(5),(6),(7),(8),(9),(10),(11),(12),(13),(14),(15)]', true),alt_da_,da),alt_da_),attr_da,index_da),index_da is not null),lower,upper,f_int32,f_int64,f_bool,f_double)"</span></pre></body></html></div>
<div data-pagedtable="false">
<script data-pagedtable-source type="application/json">
{"columns":[{"label":["da"],"name":[1],"type":["dbl"],"align":["right"]},{"label":["db"],"name":[2],"type":["dbl"],"align":["right"]},{"label":["lower"],"name":[3],"type":["chr"],"align":["left"]},{"label":["upper"],"name":[4],"type":["chr"],"align":["left"]},{"label":["f_int32"],"name":[5],"type":["int"],"align":["right"]},{"label":["f_int64"],"name":[6],"type":["dbl"],"align":["right"]},{"label":["f_bool"],"name":[7],"type":["lgl"],"align":["right"]},{"label":["f_double"],"name":[8],"type":["dbl"],"align":["right"]}],"data":[{"1":"12","2":"112","3":"l","4":"L","5":"-9","6":"120","7":"NA","8":"2.00"},{"1":"13","2":"113","3":"m","4":"M","5":"-8","6":"130","7":"FALSE","8":"NA"},{"1":"14","2":"114","3":"n","4":"N","5":"-7","6":"140","7":"NA","8":"0.00"},{"1":"15","2":"115","3":"o","4":"O","5":"-6","6":"150","7":"FALSE","8":"-99.00"},{"1":"1","2":"101","3":"a","4":"A","5":"-20","6":"10","7":"TRUE","8":"3.14"},{"1":"2","2":"102","3":"b","4":"B","5":"-19","6":"20","7":"NA","8":"2.00"},{"1":"3","2":"103","3":"c","4":"C","5":"-18","6":"30","7":"FALSE","8":"NA"},{"1":"4","2":"104","3":"d","4":"D","5":"-17","6":"40","7":"NA","8":"0.00"},{"1":"5","2":"105","3":"e","4":"E","5":"-16","6":"50","7":"FALSE","8":"-99.00"},{"1":"6","2":"106","3":"f","4":"F","5":"-15","6":"60","7":"TRUE","8":"3.14"},{"1":"7","2":"107","3":"g","4":"G","5":"-14","6":"70","7":"NA","8":"2.00"},{"1":"8","2":"108","3":"h","4":"H","5":"-13","6":"80","7":"FALSE","8":"NA"},{"1":"9","2":"109","3":"i","4":"I","5":"-12","6":"90","7":"NA","8":"0.00"},{"1":"10","2":"110","3":"j","4":"J","5":"-11","6":"100","7":"FALSE","8":"-99.00"},{"1":"11","2":"111","3":"k","4":"K","5":"-10","6":"110","7":"TRUE","8":"3.14"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by  Paradigm4.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
